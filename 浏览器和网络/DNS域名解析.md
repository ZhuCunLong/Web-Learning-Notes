# 浏览器 DNS域名解析过程

1. **本地缓存查找**：
   - 浏览器首先检查自身的DNS缓存中是否有该域名对应的IP地址记录。
   - 如果在最近一段时间内已经访问过这个域名，并且其缓存未过期，则直接使用缓存中的IP地址进行连接。
2. **操作系统缓存查找**：
   - 如果浏览器缓存中没有找到，它会查询操作系统的DNS缓存，例如在Windows系统中，会查询`C:\Windows\System32\drivers\etc\hosts`文件，或查询Linux系统中的`/etc/hosts`文件看是否存在相应的映射关系。
3. **路由器缓存查找**：
   - 操作系统缓存如果没有命中，请求可能还会经过路由器的DNS缓存查找。
4. **ISP DNS服务器查找**：
   - 如果上述所有本地缓存都没有结果，浏览器向用户的互联网服务提供商（ISP）的本地DNS服务器发送一个DNS查询请求。
5. **递归查询**：
   - ISP的DNS服务器开始执行递归查询过程，即如果它自己没有域名与IP地址的映射，它会逐级向上询问更高级别的DNS服务器，直至根域名服务器、顶级域名服务器（如`.com`的TLD服务器），最后到达权威域名服务器获取到正确的IP地址。
6. **响应及缓存**：
   - 当权威域名服务器返回了域名对应的IP地址后，这个信息会被沿途的所有DNS服务器缓存，包括ISP的DNS服务器和客户端的操作系统。
   - 最终，这个IP地址被返回给发起请求的浏览器。