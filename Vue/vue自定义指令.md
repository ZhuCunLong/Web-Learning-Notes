# vue自定义指令

[官方文档](https://cn.vuejs.org/v2/guide/custom-directive.html)

## 作用

自定义指令为什么存在？官方文档给出的原因如下

>...在 Vue2.0 中，代码复用和抽象的主要形式是组件。然而，有的情况下，你仍然需要对普通 DOM 元素进行底层操作，这时候就会用到自定义指令。...

对普通dom元素进行底层操作！有点振聋发聩的意思，我们所熟知的vue指令包含了v-if,v-show,v-for,v-model,v-bind，v-on等等，如果再往下想一层，这些指令无一不是在帮我们操作底层的dom。

- v-if，删除/新增dom节点

- v-show，给dom元素添加/删除内联样式`style="display: none"`
- v-for，循环添加dom节点
- v-model，更新dom节点数据（除此之外，非dom相关的，操作视图更新绑定数据）
- v-bind，更新dom节点数据
- v-on，给dom元素添加事件监听

所以指令的使用场景也很明确了，**当你需要操作dom的时候，不妨想想能不能使用自定义指令**

写到这里的时候，脑海中立马想到一个场景，echarts初始化！那么继续探索一下自定义指令的使用来看看是否能通过自定义指令来更为优雅的实现echarts初始化





